# How to request proof

Use [explorer BrevisMarket](https://sepolia.arbiscan.io/address/0x9c19d2De433217FB4b41a5D8d35aB8eE4A7b0DFa#writeProxyContract) to request proof. Follow below instructions to obtain each param of a request.

1. `nonce`

A unique num to identify a request from you

2. `vk`

A VK digest is generated by the build ELF file. It could be generated by using [pico-proving-service gen-app-id](https://github.com/brevis-network/pico-proving-service?tab=readme-ov-file#generate-application-id-locally):
```
# clone the enter pico-proving-service repository
cd pico-proving-service
RUST_LOG=info cargo run -r --bin gen-app-id -- --elf ELF_FILE_PATH
```

3. `publicValuesDigest`

A public values digest is generated by the build ELF file and input data. It could be generated by using [pico-proving-service gen-pv-digest](https://github.com/brevis-network/pico-proving-service?tab=readme-ov-file#generate-public-values-digest-locally):
```
# clone the enter pico-proving-service repository
cd pico-proving-service
RUST_LOG=info cargo run -r --bin gen-pv-digest -- --elf ELF_FILE_PATH --inputs INPUT_FILE_PATH
```

4. `imgURL`

Reference the [Pico document](https://pico-docs.brevis.network/writing-apps/programs) to write a application program. Then use `cargo pico build` to compile and generate the ELF. 
Reference [Pico Fibonacci](https://github.com/brevis-network/pico/tree/main/perf/bench_apps/fibonacci) as an example. 
The generated ELF file is uploaded to this URL.

5. `inputData`

The input data is build by the pico-sdk emulator builder. Reference [pico-proving-service gen-inputs](https://github.com/brevis-network/pico-proving-service/blob/main/bin/gen_inputs.rs):
```
# clone the enter pico-proving-service repository
cd pico-proving-service

# update `gen_inputs.rs` to write the input data as the ELF code required
# for example, the Fibonacci ELF only `read` an u32, you could write an u32 without other inputs
RUST_LOG=info cargo run -r --bin gen-inputs
```

6. `inputURL`

The input data is uploaded to this URL if it's large. 
It's optional, either `inputData` or `inputURL` should be provided.

7. `fee`

In tuple [`maxFee`, `minStake`, `deadline`].
`maxFee`, the max fee in staking token (for testnet, it's [testnet staking token](https://sepolia.arbiscan.io/address/0x46b07178907650afc855763a8f83e65afec24074)) you wish to pay for the request.
`minStake`, only the provers that stake more than the value can bid for the request.
`deadline`, the proof should be submitted no later than (in unix seconds), note that the maximum deadline duration from request time can not exceed 30 days.

Note, Before initiate a proof request, you need to use [explorer StakingToken](https://sepolia.arbiscan.io/address/0x46b07178907650afc855763a8f83e65afec24074#writeContract) to approve `BrevisMarket` 0x9c19d2De433217FB4b41a5D8d35aB8eE4A7b0DFa to spend your staking token. Please use [explorer Faucet](https://sepolia.arbiscan.io/address/0x9C4e124141A599482b08492a03c49e26CCA21bAA#writeContract) to get `drip` some [testnet staking token](https://sepolia.arbiscan.io/address/0x46b07178907650afc855763a8f83e65afec24074).

## A tool to send batch requests

1. A tool is provided for sending batch requests. Under `tools` folder in this repo, run `go build` to build the tool.

    ```
    cd tools
    go build
    ```

2. Then update the `req_config.toml` to fill in:

    | Field | Description |
    | ----- | ----------- |
    | keystore | The path to your ethereum account keystore json |
    | passphrase | The passphrase to the keystore |

Update the param values in `[[request]]` section accordingly. Provide multile `[[request]]` sections to send multiple requests.

3. Execute below command to send the requsets:

    ```
    ./tools request-proof --config ./req_config.toml
    ```

## Sample Apps for Testing

The following sample applications are available for testing and benchmarking:

- **[Fibonacci](https://github.com/brevis-network/pico/tree/main/perf/bench_apps/fibonacci)**: Computes the n-th Fibonacci number from a `u32` input using modular arithmetic to prevent overflow. Represents a **light** proving workload suitable for quick validation.
- **[Tendermint](https://github.com/brevis-network/pico/tree/main/examples/tendermint/app)**: Implements a Tendermint light-client verifier that validates consensus updates between two light blocks. Represents a **medium** proving workload for consensus verification.
- **[Reth](https://github.com/brevis-network/pico/tree/main/perf/bench_apps/reth-pico)**: Executes Ethereum block verification using the Reth client executor and commits the resulting block header. Represents a **heavy** proving workload for production block verification.

To build ELF files from these sample apps, use `cargo pico build` as described in Section 4. For input data generation, refer to Section 5.